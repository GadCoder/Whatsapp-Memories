# ===========================================
# Whatsapp-Memories Configuration
# ===========================================

# -------------------------------------------
# Redis Configuration
# -------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379

# -------------------------------------------
# Message Filtering Configuration
# -------------------------------------------

# Filter mode: Controls which messages to save
# Options: all, allowlist, blocklist
# - all: Save all messages (default)
# - allowlist: Only save messages from specified contacts
# - blocklist: Save all messages except from specified contacts
FILTER_MODE=all

# Comma-separated list of phone numbers or chat IDs
# Used with allowlist or blocklist modes
# Example: FILTER_CONTACTS=1234567890@c.us,5551234567@c.us
# FILTER_CONTACTS=

# Group message filtering
# Options: include, exclude, only
# - include: Save both group and direct messages (default)
# - exclude: Only save direct messages (no groups)
# - only: Only save group messages
FILTER_GROUPS=include

# Include broadcast list messages?
# Options: true, false (default: false)
FILTER_BROADCAST=false

# -------------------------------------------
# Retry Configuration
# -------------------------------------------

# Maximum number of retry attempts when publishing to Redis fails
RETRY_MAX_ATTEMPTS=3

# Initial delay between retries (in milliseconds)
RETRY_INITIAL_DELAY=1000

# Maximum delay between retries (in milliseconds)
RETRY_MAX_DELAY=10000

# Backoff multiplier (delay increases by this factor each retry)
RETRY_BACKOFF_MULTIPLIER=2

# -------------------------------------------
# Queue Configuration
# -------------------------------------------

# Maximum number of messages to queue locally if Redis is unavailable
QUEUE_MAX_SIZE=1000

# Interval to attempt flushing the queue (in milliseconds)
# Default: 60000 (1 minute)
QUEUE_FLUSH_INTERVAL=60000

# -------------------------------------------
# Debug Configuration
# -------------------------------------------

# Enable debug logging
# Options: true, false (default: false)
# Set to true during development/testing, false in production
DEBUG=false

# -------------------------------------------
# Puppeteer Configuration (Docker only)
# -------------------------------------------

# Path to Chromium executable (set automatically in Docker)
# PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium
